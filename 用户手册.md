# Bookstore 用户手册

本系统是 ACM·2023 第五次大作业的 bonus 部分，用于以图形化界面形式来进行书店管理操作

## 目录结构

```
bookstore
│  bookstore.exe
│  用户手册.html
│  系统安装手册.html
│
├─bin
│      core.exe
│
└─tmp
```

其中 bookstore.exe 是主程序，运行这个程序将启动服务器，在 http://127.0.0.1:5000 即可访问主页，按下 Ctrl+C 来停止程序，注意未在启动状态时将无法连接服务器.

两个手册为 markdown 格式的手册，用以说明本系统的使用方式

**注意：** tmp文件夹是数据存储文件夹，正常情况下不应随意编辑或删除此文件夹中的任何内容，否则将可能造成不可逆的损害.
若想清除数据回到初始状态，需要在**关闭程序的状态**下删除此文件夹中的**所有文件**，但请务必**不要**删除tmp文件夹，否则可能导致错误.

core.exe 文件是书店系统的核心程序，bookstore 系统就是通过与此程序交互来工作的. ~~有趣的是，这个文件也是 Windows操作
系统中的可执行文件~~，你可以双击这个文件来在命令行下进行书店管理操作，~~这也是本次大作业的基础部分~~，在本项目的 [Github地址](https://github.com/CrazyDave999/Bookstore-2023) 可以查看命令行交互的详细格式与要求

## 使用说明

### 使用对象

这个系统的用户分为三类：顾客，员工，店主，登录对应账户可以使用对应的功能，未登录状态下为游客账户，不同的账户可访问的功能如下：（从前往后权限递增，后者是在前者的基础上加上列出的内容）

- 游客：登录、注册帐户；
- 顾客：查询、购买图书；
- 员工 ：修改图书数据；
- 店主 ：书店系统所有功能。

### 登录栈
系统支持嵌套登录，即允许多个帐户同时处于登录状态；允许同一帐户同时多次登录。输入的指令视为最后登录的帐户操作。退出系统视为登出所有已登录帐户。

店主是系统的**超级管理员**，使用 root 账户，密码 sjtu，初始状态下已自动录入系统

### 页面主要功能介绍

顶部导航栏左侧有三个下拉菜单，对应三个子系统：账户、图书和日志. 各页面对应功能如下：

#### 账户系统

- Login 登录页面，注意高权限用户登录低权限用户可以省略密码
- Register 注册页面，可注册**顾客**账户
- Add user 添加用户，用于员工添加顾客或店主添加员工
- Modify password 修改密码，若当前账户是店主可省略当前密码
- Delete 删除账户

#### 图书系统

- Show 查询符合某个条件的所有图书，输入某个信息前需要点击前面的按钮
- Select 选择一本图书. Import 和 Modify 功能需要先选择一本图书. 点击 show all 按钮可以方便地查询和选择所有图书
- Buy 购买图书，输入购买数量，若库存足够会返回金额
- Modify 修改图书信息，输入某个信息前需要点击前面的按钮，可同时修改多个信息，至少修改一个信息. 多个 keyword 间用 “|” 连接.
- Import 进货页面，录入进货数量和进货支出金额

#### 日志系统

- Show finance 统计最后的指定笔数交易的收入和支出总额
- Report and log 给店主提供财务报表、员工工作情况报告和系统日志

## 常见错误

- 404 Not Found 若您手动输入了 url，请检查您的拼写是否正确
- Permission denied 低权限账户访问高权限账户才能访问的页面，常出现于系统重启后直接刷新页面时. 因为重启后所有账户登出，为游客账户，可能造成越权访问.

若出现其他错误请向开发者LJB报告！

